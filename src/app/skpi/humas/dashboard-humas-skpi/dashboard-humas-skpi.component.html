<div class="main-content">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <ngx-spinner
            [name]="spinnerName"
            [fullScreen]="false"
            type="line-scale-pulse-out"
            size="small"
          >
            <span class="text-white text-xl">{{ spinnerStatus }}</span>
          </ngx-spinner>
          <div class="card-body">
            <div class="card-header card-header-tabs card-header-success">
              <div class="nav-tabs-navigation">
                <div class="nav-tabs-wrapper">
                  <span class="nav-tabs-title font-medium"> Dashboard : </span>
                  <ul class="nav nav-tabs" data-tabs="tabs">
                    <li class="nav-item active">
                      <a
                        href="#reg"
                        class="nav-link"
                        data-toggle="tab"
                        style="background-color: rgba(217, 218, 219, 0.253)"
                      >
                        <i class="material-icons">equalizer</i> Penerimaan
                        Mahasiswa Baru
                        <div class="ripple-container"></div>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div
              class="row"
              *ngFor="let gelombang of listDataGelombangPeriode; let i = index"
            >
              <div class="col-md-3">
                <div class="card card-stats">
                  <div class="card-header card-header-primary card-header-icon">
                    <div class="card-icon">
                      <i class="material-icons">groups</i>
                    </div>
                    <h1 class="card-title"><strong>Total Pendaftar</strong></h1>
                    <h3 class="card-title">
                      Batal -
                      <strong>{{ listDataRekapPmb.batal }}</strong>
                    </h3>
                    <h3 class="card-title">
                      Calon Pendaftar -
                      <strong>{{ listDataRekapPmb.calon_pendaftar }}</strong>
                    </h3>
                    <h3 class="card-title">
                      Pendaftar -
                      <strong>{{ listDataRekapPmb.pendaftar }}</strong>
                    </h3>
                    <!-- <mat-progress-bar mode="indeterminate"></mat-progress-bar> -->
                  </div>
                  <div class="card-footer">
                    <div class="title-yarsi flex items-center badge badge-primary font-bold text-sm" style="background-color: #9c27b0;"> 
                      <i class="material-icons">date_range</i> Gelombang -
                      {{ gelombang.id_gelombang }}
                    </div>
                    <div class="card-title text-right">
                      <h4 class="title-yarsi">
                        Batal -
                        <strong>{{ listDataRekapPmbHarian.batal }}</strong>
                      </h4>
                      <h4 class="title-yarsi">
                        Calon Pendaftar -
                        <strong>{{
                          listDataRekapPmbHarian.calon_pendaftar
                        }}</strong>
                      </h4>

                      <h4 class="title-yarsi">
                        Pendaftar -
                        <strong>{{ listDataRekapPmbHarian.pendaftar }}</strong>
                      </h4>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="card card-stats">
                  <div class="card-header card-header-info card-header-icon">
                    <div class="card-icon">
                      <i class="material-icons">print</i>
                    </div>
                    <h1 class="card-title">
                      <strong>Peserta</strong>
                    </h1>
                    <h3 class="card-title">
                      Calon Peserta -
                      <strong>{{ listDataRekapPmb.calon_peserta }}</strong>
                    </h3>
                    <h3 class="card-title">
                      Peserta - <strong>{{ listDataRekapPmb.peserta }}</strong>
                    </h3>
                    <h3 class="card-title">
                      Tidak Lulus -
                      <strong>{{ listDataRekapPmb.tidak_lulus }}</strong>
                    </h3>
                  </div>
                  <div class="card-footer">
                    <div class="title-yarsi flex items-center badge badge-info font-bold text-sm">
                      <i class="material-icons">date_range</i>
                      Gelombang -
                      {{ gelombang.id_gelombang }}
                    </div>
                    <div class="card-title text-right">
                      <h4 class="title-yarsi">
                        Calon Peserta -
                        <strong>{{
                          listDataRekapPmbHarian.calon_peserta
                        }}</strong>
                      </h4>
                      <h4 class="title-yarsi">
                        Peserta -
                        <strong>{{ listDataRekapPmbHarian.peserta }}</strong>
                      </h4>
                      <h4 class="title-yarsi">
                        Tidak Lulus -
                        <strong>{{
                          listDataRekapPmbHarian.tidak_lulus
                        }}</strong>
                      </h4>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="card card-stats">
                  <div class="card-header card-header-danger card-header-icon">
                    <div class="card-icon">
                      <i class="material-icons">task_alt</i>
                    </div>
                    <h1 class="card-title"><strong>Peserta Lulus</strong></h1>
                    <h3 class="card-title">
                      Cadangan -
                      <strong>{{ listDataRekapPmb.cadangan }}</strong>
                    </h3>
                    <h3 class="card-title">
                      Dipindah -
                      <strong>{{ listDataRekapPmb.dipindah }}</strong>
                    </h3>
                    <h3 class="card-title">
                      Camaba - <strong>{{ listDataRekapPmb.camaba }}</strong>
                    </h3>
                  </div>
                  <div class="card-footer">
                    <div class="title-yarsi flex items-center badge badge-danger font-bold text-sm">
                      <i class="material-icons">date_range</i> Gelombang -
                      {{ gelombang.id_gelombang }}
                    </div>
                    <div class="card-title text-right">
                      <h4 class="title-yarsi">
                        Cadangan -
                        <strong>{{ listDataRekapPmbHarian.cadangan }}</strong>
                      </h4>
                      <h4 class="title-yarsi">
                        Dipindah -
                        <strong>{{ listDataRekapPmbHarian.dipindah }}</strong>
                      </h4>
                      <h4 class="title-yarsi">
                        Camaba -
                        <strong>{{ listDataRekapPmbHarian.camaba }}</strong>
                      </h4>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="card card-stats">
                  <div class="card-header card-header-warning card-header-icon">
                    <div class="card-icon">
                      <i class="material-icons">assignment_ind</i>
                    </div>
                    <h1 class="card-title">
                      <strong>Mahasiswa Baru</strong>
                    </h1>
                    <h3 class="card-title">
                      Mengundurkan Diri -
                      <strong>{{ listDataRekapPmb.undur_diri }}</strong>
                    </h3>
                    <h3 class="card-title">&nbsp;</h3>
                    <h3 class="card-title">
                      Registrasi -
                      <strong>{{ listDataRekapPmb.maba }}</strong>
                    </h3>
                  </div>
                  <div class="card-footer">
                    <div class="title-yarsi flex items-center badge badge-warning font-bold text-sm">
                      <i class="material-icons">date_range</i> Gelombang -
                      {{ gelombang.id_gelombang }}
                    </div>
                    <div class="card-title text-right">
                      <h4 class="title-yarsi">
                        Mengundurkan Diri -
                        <strong>{{ listDataRekapPmbHarian.undur_diri }}</strong>
                      </h4>
                      <h4 class="title-yarsi">&nbsp;</h4>

                      <h4 class="title-yarsii9">
                        Registrasi -
                        <strong>{{ listDataRekapPmbHarian.maba }}</strong>
                      </h4>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-7">
              <div class="col-md-12">
                <div class="card">
                  <div class="card-header card-header-primary card-header-success">
                    <div class="card-icon">
                      <i class="material-icons">timeline</i>
                    </div>
                    <h4 class="card-title">Statistik Pendaftaran Online</h4>
                  </div>
                  <div class="card-body">
                    <div
                      id="chartJumPendaftarOnline"
                      class="ct-chart font-medium"
                      style="color: rgb(24, 24, 24)"
                    ></div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-5">
              <div class="col-md-12">
                <div class="card">
                  <div class="card-header card-header-success card-header-success">
                    <div class="card-icon">
                      <i class="material-icons">timeline</i>
                    </div>
                    <h4 class="card-title">Jadwal Penerimaan Mahasiswa Baru</h4>
                  </div>
                  <div class="card-body">
                    <div class="col-md-12">
                      <div
                        class="card"
                        *ngFor="
                          let gelombang of listDataGelombangPeriode;
                          let i = index
                        "
                      >
                        <div
                          class="card-header card-header-icon card-header-info"
                        >
                          <div class="card-icon">
                            <i class="material-icons">lightbulb</i>
                          </div>
                          <h4 class="card-title font-medium">
                            {{ gelombang.nama }}
                          </h4>
                        </div>
                        <div class="card-body">
                          <div class="row">
                            <div
                              class="col-md-5 font-medium"
                              style="color: rgb(24, 24, 24)"
                            >
                              <ul>
                                <li class="text-base my-1">Pendaftaran</li>

                                <!-- <li>Ujian Masuk</li> -->

                                <li class="text-base my-1">Pengumuman</li>

                                <li class="text-base my-1">Registrasi Ulang</li>

                                <!-- <li>OPMB</li> -->
                              </ul>
                            </div>
                            <div class="col-md-5 ">
                              <ul class="">
                                <li class="badge badge-danger  my-1"  >
                                  {{
                                    gelombang.mulai_pendaftaran !=
                                      "0000-00-00 00:00:00" &&
                                    gelombang.mulai_pendaftaran != null
                                      ? (gelombang.mulai_pendaftaran
                                        | date: "dd MMM y")
                                      : ""
                                  }}
                                  -
                                  {{
                                    gelombang.selesai_pendaftaran_online !=
                                      "0000-00-00 00:00:00" &&
                                    gelombang.selesai_pendaftaran_online != null
                                      ? (gelombang.selesai_pendaftaran_online
                                        | date: "dd MMM y")
                                      : ""
                                  }}
                                </li>

                                <!-- <li class="badge badge-info">15 Agustus 2022</li> -->

                                <li class="badge badge-warning  my-1">
                                  {{
                                    gelombang.mulai_pengumuman !=
                                      "0000-00-00 00:00:00" &&
                                    gelombang.mulai_pengumuman != null
                                      ? (gelombang.mulai_pengumuman
                                        | date: "dd MMM y")
                                      : ""
                                  }}
                                  -
                                  {{
                                    gelombang.selesai_pengumuman !=
                                      "0000-00-00 00:00:00" &&
                                    gelombang.selesai_pengumuman != null
                                      ? (gelombang.selesai_pengumuman
                                        | date: "dd MMM y")
                                      : ""
                                  }}
                                </li>

                                <li class="badge badge-info  my-1">
                                  {{
                                    gelombang.mulai_registrasi !=
                                      "0000-00-00 00:00:00" &&
                                    gelombang.mulai_registrasi != null
                                      ? (gelombang.mulai_registrasi
                                        | date: "dd MMM y")
                                      : ""
                                  }}
                                  -
                                  {{
                                    gelombang.selesai_registrasi !=
                                      "0000-00-00 00:00:00" &&
                                    gelombang.selesai_registrasi != null
                                      ? (gelombang.selesai_registrasi
                                        | date: "dd MMM y")
                                      : ""
                                  }}
                                </li>

                                <!-- <li class="badge badge-rose">16 Agu 22 - 14 Sep 22</li> -->
                              </ul>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="card">
                <div
                  class="card-header card-header-success card-header-info"
                  *ngFor="
                    let gelombang of listDataGelombangPeriode;
                    let i = index
                  "
                >
                  <div class="card-icon">
                    <i class="material-icons">timeline</i>
                  </div>
                  <h4 class="card-title">Statistik PMB {{ gelombang.nama }}</h4>
                </div>
                <div class="card-body">
                  <div class="warning-text py-2">
                    <div class="material-datatables">
                      <app-custom-table
                        [listData]="listData"
                       [events]="eventsLoad.asObservable()"></app-custom-table>
                      <!-- <table
                        class="table table-striped table-no-bordered table-hover text-sm responsive-table border-collapse border border-gray-400 whitespace-normal"
                        cellspacing="0"
                        width="100%"
                        style="width: 100%"
                        *ngIf="!isScreenSmall"
                      >
                        <thead>
                          <tr>
                            <th
                              *ngFor="
                                let kolom of listData.header;
                                let j = index
                              "
                              [ngClass]="kolom.class"
                            >
                              {{ kolom.label }}
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <ng-container *ngIf="!isLoadingTable">
                            <tr
                              *ngFor="let item of listData.data; let i = index"
                            >
                              <td
                                [ngClass]="kolom.class"
                                *ngFor="
                                  let kolom of listData.field;
                                  let j = index
                                "
                              >
                                <span *ngIf="kolom.field == 'no'">
                                  {{ i + 1 }}
                                </span>

                                <span
                                  *ngIf="
                                    kolom.field != 'action' &&
                                    kolom.field != 'no' &&
                                    kolom.field != 'aktif'
                                  "
                                >
                                  {{ item[kolom.field] }}
                                </span>

                                <span *ngIf="kolom.field == 'aktif'">
                                  <div
                                    class="flex flex-col items-center justify-center"
                                  >
                                    <i
                                      class="fa fa-check text-green-500"
                                      *ngIf="item[kolom.field] == 'Y'"
                                    ></i>
                                    <i
                                      class="fa fa-minus text-red-500"
                                      *ngIf="item[kolom.field] == 'T'"
                                    ></i>
                                  </div>
                                </span>

                                <span *ngIf="kolom.field == 'action'">
                                  <button
                                    *ngFor="
                                      let action of listData.action;
                                      let k = index
                                    "
                                    mat-raised-button
                                    class="btn btn-just-icon btn-link btn-twitter"
                                    (click)="this[action.action_name](j, item)"
                                  >
                                    <i [ngClass]="action.icon"></i>
                                  </button>
                                </span>
                              </td>
                            </tr>
                          </ng-container>
                          <tr *ngIf="isLoadingTable">
                            <td
                              class="text-center"
                              [attr.colspan]="listData.header.length"
                            >
                              <div
                                class="flex flex-col items-center justify-center"
                              >
                                <mat-spinner
                                  class="my-2"
                                  [diameter]="30"
                                ></mat-spinner>
                                <span>Please wait</span>
                              </div>
                            </td>
                          </tr>

                          <tr
                            *ngIf="!isLoadingTable && listData.data.length == 0"
                          >
                            <td
                              class="text-center"
                              [attr.colspan]="listData.header.length"
                            >
                              <div
                                class="flex flex-col items-center justify-center"
                              >
                                <span>No Data</span>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>

                      <table
                        class="table table-striped table-no-bordered table-hover text-sm responsive-table border-collapse border border-gray-400 whitespace-normal"
                        cellspacing="0"
                        width="100%"
                        style="width: 100%"
                        *ngIf="isScreenSmall"
                      >
                        <ng-container *ngIf="!isLoadingTable">
                          <ng-container
                            *ngFor="let item of listData.data; let i = index"
                          >
                            <tr
                              *ngFor="
                                let header of listData.header;
                                let j = index
                              "
                            >
                              <td class="bg-gray-400">{{ header.label }}</td>
                              <td>
                                <span *ngIf="header.field == 'no'">
                                  {{ i + 1 }}
                                </span>
                                <span
                                  *ngIf="
                                    header.field != 'action' &&
                                    header.field != 'no' &&
                                    header.field != 'aktif'
                                  "
                                >
                                  {{ item[header.field] }}
                                </span>
                                <span *ngIf="header.field == 'aktif'">
                                  <i
                                    class="fa fa-check text-green-500"
                                    *ngIf="item[header.field] == 'Y'"
                                  ></i>
                                  <i
                                    class="fa fa-minus text-red-500"
                                    *ngIf="item[header.field] == 'T'"
                                  ></i>
                                </span>
                                <span *ngIf="header.field == 'action'">
                                  <button
                                    *ngFor="
                                      let action of listData.action;
                                      let k = index
                                    "
                                    mat-raised-button
                                    class="btn btn-just-icon btn-link btn-twitter"
                                    (click)="this[action.action_name](j, item)"
                                  >
                                    <i [ngClass]="action.icon"></i>
                                  </button>
                                </span>
                              </td>
                            </tr>
                          </ng-container>
                        </ng-container>

                        <ng-container *ngIf="isLoadingTable">
                          <tr
                            *ngFor="
                              let header of listData.header;
                              let j = index
                            "
                          >
                            <td class="bg-gray-400">{{ header.label }}</td>
                            <td
                              [attr.rowspan]="listData.header.length"
                              *ngIf="j == 0"
                              class="text-center align-middle"
                            >
                              <div
                                class="flex flex-col items-center justify-center"
                              >
                                <mat-spinner
                                  class="my-2"
                                  [diameter]="30"
                                ></mat-spinner>
                                <span>Please wait</span>
                              </div>
                            </td>
                          </tr>
                        </ng-container>

                        <ng-container
                          *ngIf="!isLoadingTable && listData.data.length == 0"
                        >
                          <tr
                            *ngFor="
                              let header of listData.header;
                              let j = index
                            "
                          >
                            <td class="bg-gray-400">{{ header.label }}</td>
                            <td
                              [attr.rowspan]="listData.header.length"
                              *ngIf="j == 0"
                              class="text-center align-middle"
                            >
                              <div
                                class="flex flex-col items-center justify-center"
                              >
                                <span>No Data</span>
                              </div>
                            </td>
                          </tr>
                        </ng-container>
                      </table>

                      <mat-paginator
                        (page)="onChangePaginator($event)"
                        [length]="length"
                        [pageSize]="pageSize"
                        [pageSizeOptions]="pageSizeOptions"
                      >
                      </mat-paginator> -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
